{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"ticket-list\"\n};\nconst _hoisted_2 = [\"onClick\"];\nconst _hoisted_3 = {\n  key: 0\n};\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = {\n  key: 1\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", null, [_cache[3] || (_cache[3] = _createElementVNode(\"h1\", null, \"Tickets\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_1, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.tickets, ticket => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: ticket.id,\n      class: \"ticket-card\",\n      onClick: $event => $options.editTicket(ticket)\n    }, [$data.editingTicket?.id === ticket.id ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.editingTicket.status = $event),\n      class: \"status-input\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.editingTicket.status]]), _createElementVNode(\"button\", {\n      onClick: _withModifiers($event => $options.submitEdit(ticket), [\"stop\"])\n    }, \"Submit\", 8 /* PROPS */, _hoisted_4), _createElementVNode(\"button\", {\n      onClick: _cache[1] || (_cache[1] = _withModifiers((...args) => $options.cancelEdit && $options.cancelEdit(...args), [\"stop\"]))\n    }, \"Cancel\")])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"h2\", null, _toDisplayString(ticket.title), 1 /* TEXT */), _createElementVNode(\"p\", null, _toDisplayString(ticket.description), 1 /* TEXT */), _createElementVNode(\"p\", null, [_cache[2] || (_cache[2] = _createElementVNode(\"strong\", null, \"Status:\", -1 /* HOISTED */)), _createTextVNode(\" \" + _toDisplayString(ticket.status), 1 /* TEXT */)])]))], 8 /* PROPS */, _hoisted_2);\n  }), 128 /* KEYED_FRAGMENT */))])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_createElementVNode","_hoisted_1","_Fragment","_renderList","$data","tickets","ticket","id","onClick","$event","$options","editTicket","editingTicket","_hoisted_3","type","_cache","status","_withModifiers","submitEdit","_hoisted_4","args","cancelEdit","_hoisted_5","_toDisplayString","title","description","_createTextVNode","_hoisted_2"],"sources":["C:\\Users\\uSeR\\Desktop\\help-desk\\Frontend\\ticket-page\\src\\views\\TicketHome.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1>Tickets</h1>\r\n    <div class=\"ticket-list\">\r\n      <div\r\n        v-for=\"ticket in tickets\"\r\n        :key=\"ticket.id\"\r\n        class=\"ticket-card\"\r\n        @click=\"editTicket(ticket)\"\r\n      >\r\n        <div v-if=\"editingTicket?.id === ticket.id\">\r\n          <input\r\n            type=\"text\"\r\n            v-model=\"editingTicket.status\"\r\n            class=\"status-input\"\r\n          />\r\n          <button @click.stop=\"submitEdit(ticket)\">Submit</button>\r\n          <button @click.stop=\"cancelEdit\">Cancel</button>\r\n        </div>\r\n        <div v-else>\r\n          <h2>{{ ticket.title }}</h2>\r\n          <p>{{ ticket.description }}</p>\r\n          <p><strong>Status:</strong> {{ ticket.status }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      tickets: [], // List of tickets fetched from the backend\r\n      editingTicket: null, // Ticket being edited\r\n    };\r\n  },\r\n  methods: {\r\n    // Fetch tickets from the backend\r\n    async fetchTickets() {\r\n      try {\r\n        const response = await axios.get(\"http://127.0.0.1:5000/tickets\");\r\n        this.tickets = response.data;\r\n      } catch (error) {\r\n        console.error(\"Error fetching tickets:\", error);\r\n      }\r\n    },\r\n    // Start editing a ticket\r\n    editTicket(ticket) {\r\n      this.editingTicket = { ...ticket }; // Make a copy of the ticket\r\n    },\r\n    // Submit edited ticket\r\n    async submitEdit(ticket) {\r\n      try {\r\n        const response = await axios.put(\r\n          `http://127.0.0.1:5000/tickets/${ticket.id}`,\r\n          { status: this.editingTicket.status }\r\n        );\r\n        // Update the tickets list with the new data\r\n        this.tickets = this.tickets.map((t) =>\r\n          t.id === response.data.id ? response.data : t\r\n        );\r\n        this.editingTicket = null; // Reset editing state\r\n      } catch (error) {\r\n        console.error(\"Error updating ticket:\", error);\r\n      }\r\n    },\r\n    // Cancel editing\r\n    cancelEdit() {\r\n      this.editingTicket = null;\r\n    },\r\n  },\r\n  mounted() {\r\n    // Fetch tickets when the component is mounted\r\n    this.fetchTickets();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.ticket-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 16px;\r\n}\r\n\r\n.ticket-card {\r\n  border: 1px solid #ccc;\r\n  padding: 16px;\r\n  width: 300px;\r\n  cursor: pointer;\r\n  transition: transform 0.2s;\r\n}\r\n\r\n.ticket-card:hover {\r\n  transform: scale(1.05);\r\n}\r\n\r\n.status-input {\r\n  margin-bottom: 8px;\r\n}\r\n\r\nbutton {\r\n  margin-right: 8px;\r\n}\r\n</style>\r\n"],"mappings":";;EAGSA,KAAK,EAAC;AAAa;mBAH5B;;EAAAC,GAAA;AAAA;mBAAA;;EAAAA,GAAA;AAAA;;uBACEC,mBAAA,CAyBM,c,0BAxBJC,mBAAA,CAAgB,YAAZ,SAAO,sBACXA,mBAAA,CAsBM,OAtBNC,UAsBM,I,kBArBJF,mBAAA,CAoBMG,SAAA,QAxBZC,WAAA,CAKyBC,KAAA,CAAAC,OAAO,EAAjBC,MAAM;yBADfP,mBAAA,CAoBM;MAlBHD,GAAG,EAAEQ,MAAM,CAACC,EAAE;MACfV,KAAK,EAAC,aAAa;MAClBW,OAAK,EAAAC,MAAA,IAAEC,QAAA,CAAAC,UAAU,CAACL,MAAM;QAEdF,KAAA,CAAAQ,aAAa,EAAEL,EAAE,KAAKD,MAAM,CAACC,EAAE,I,cAA1CR,mBAAA,CAQM,OAlBdc,UAAA,G,gBAWUb,mBAAA,CAIE;MAHAc,IAAI,EAAC,MAAM;MAZvB,uBAAAC,MAAA,QAAAA,MAAA,MAAAN,MAAA,IAaqBL,KAAA,CAAAQ,aAAa,CAACI,MAAM,GAAAP,MAAA;MAC7BZ,KAAK,EAAC;mDADGO,KAAA,CAAAQ,aAAa,CAACI,MAAM,E,GAG/BhB,mBAAA,CAAwD;MAA/CQ,OAAK,EAhBxBS,cAAA,CAAAR,MAAA,IAgB+BC,QAAA,CAAAQ,UAAU,CAACZ,MAAM;OAAG,QAAM,iBAhBzDa,UAAA,GAiBUnB,mBAAA,CAAgD;MAAvCQ,OAAK,EAAAO,MAAA,QAAAA,MAAA,MAjBxBE,cAAA,KAAAG,IAAA,KAiB+BV,QAAA,CAAAW,UAAA,IAAAX,QAAA,CAAAW,UAAA,IAAAD,IAAA,CAAU;OAAE,QAAM,E,oBAEzCrB,mBAAA,CAIM,OAvBduB,UAAA,GAoBUtB,mBAAA,CAA2B,YAAAuB,gBAAA,CAApBjB,MAAM,CAACkB,KAAK,kBACnBxB,mBAAA,CAA+B,WAAAuB,gBAAA,CAAzBjB,MAAM,CAACmB,WAAW,kBACxBzB,mBAAA,CAAmD,Y,0BAAhDA,mBAAA,CAAwB,gBAAhB,SAAO,sBAtB5B0B,gBAAA,CAsBqC,GAAC,GAAAH,gBAAA,CAAGjB,MAAM,CAACU,MAAM,iB,sBAtBtDW,UAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}